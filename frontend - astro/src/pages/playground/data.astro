---
import Code from "astro/components/Code.astro";
import LayoutSidebar from "../../app/LayoutSidebar.astro";
import { getArticulos } from "../services/articulos";
import { getDepartametos } from "../services/departamentos";
import { getMarcas } from "../services/marcas";
import { getOrdenCompras } from "../services/ordencompras";
import { getProveedores } from "../services/proveedores";
import { getUnidadesMedida } from "../services/unidadesmedida";

const departamentos = JSON.stringify(await getDepartametos());
const proveedores = JSON.stringify(await getProveedores());
const marcas = JSON.stringify(await getMarcas());
const unidadesmedida = JSON.stringify(await getUnidadesMedida());
const ordenesCompra = JSON.stringify(await getOrdenCompras());
const articulos = JSON.stringify(await getArticulos());
---

<LayoutSidebar class="bg-slate-800 text-slate-100">
	<div class="playground p-16">
		<h1
			class="text-3xl ml-8 lg:text-4xl xl:text-6xl font-bold dark:text-slate-100"
		>
			ðŸ•¹&nbsp;Playground â€” API data
		</h1>
		<div class="mt-24 mb-8">
			<button
				type="button"
				class="text-white bg-blue-700 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
				onclick="location.reload()"
			>
				Refresh
			</button>
		</div>
		<div class="mb-16">
			<h1 class="text-6xl font-bold mb-8 dark:text-slate-100">
				Departamentos
			</h1>
			<Code code={departamentos} lang="json" />
		</div>
		<div class="mb-16">
			<h1 class="text-6xl font-bold mb-8 dark:text-slate-100">
				Proveedores
			</h1>
			<Code code={proveedores} lang="json" />
		</div>
		<div class="mb-16">
			<h1 class="text-6xl font-bold mb-8 dark:text-slate-100">Marcas</h1>
			<Code code={marcas} lang="json" />
		</div>
		<div class="mb-16">
			<h1 class="text-6xl font-bold mb-8 dark:text-slate-100">
				Unidades De Medida
			</h1>
			<Code code={unidadesmedida} lang="json" />
		</div>
		<div class="mb-16">
			<h1 class="text-6xl font-bold mb-8 dark:text-slate-100">
				Articulos
			</h1>
			<Code code={articulos} lang="json" />
		</div>
		<div class="mb-16">
			<h1 class="text-6xl font-bold mb-8 dark:text-slate-100">
				Ordenes De Compras
			</h1>
			<Code code={ordenesCompra} lang="json" />
		</div>
	</div>
</LayoutSidebar>

<style is:global>
	.playground .astro-code {
		@apply rounded-3xl p-8;
	}
</style>
